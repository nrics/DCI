qx.Class.define("org.eclipse.ui.forms.widgets.FormText",{extend:qx.ui.layout.CanvasLayout,construct:function(){arguments.callee.base.call(this);this.setAppearance("formtext");this._hyperlinks=new Array();this._hyperlinkMode=org.eclipse.ui.forms.widgets.FormText.UNDERLINE_ALWAYS;this._hyperlinkForeground="#0000FF";this._hyperlinkActiveForeground="#0000FF";this._hyperlinkBackground=null;this._hyperlinkActiveBackground=null},destruct:function(){this.clearContent(true)},statics:{UNDERLINE_NEVER:1,UNDERLINE_HOVER:2,UNDERLINE_ALWAYS:3},members:{createBullet:function(e,f,g,b,h,d,a){var c=new qx.ui.basic.Atom();c.setAppearance("formtext-bullet");switch(e){case 2:c.setLabel(g);break;case 3:c.setIcon(f);break;default:c.setIcon(f)}c.set({top:h,left:b,width:d,height:a});this.add(c)},createTextFragment:function(j,i,h,c,k,a,l,g,e,d){var b=new qx.ui.basic.Label();b.setAppearance("formtext-text");b.set({text:j,top:h,left:i,width:c,height:k});if(a!=null&&l!=null&&g!=null&&e!=null){var f=org.eclipse.swt.WidgetManager.getInstance();f.setFont(b,a,l,g,e)}if(d!=null){b.setTextColor(d)}this.add(b)},createImageSegment:function(d,b,f,c,a){var e=new qx.ui.basic.Image();e.setAppearance("formtext-image");e.set({source:d,top:f,left:b,width:c,height:a});this.add(e)},createTextHyperlinkSegment:function(i,a,h,g,c,j,b,l,f,d){var k=new qx.ui.basic.Label();k.setAppearance("formtext-hyperlink");k.set({text:i,top:g,left:h,width:c,height:j});var e=org.eclipse.swt.WidgetManager.getInstance();e.setToolTip(k,a);if(b!=null&&l!=null&&f!=null&&d!=null){e.setFont(k,b,l,f,d)}k.addEventListener("mousemove",this._onMouseMove,this);k.addEventListener("mouseout",this._onMouseOut,this);this._hyperlinks[this._hyperlinks.length]=k;this.add(k)},createImageHyperlinkSegment:function(f,d,b,h,e,a){var c=new qx.ui.basic.Image();c.setAppearance("formtext-hyperlink");c.set({source:f,top:h,left:b,width:e,height:a,paddingTop:2});var g=org.eclipse.swt.WidgetManager.getInstance();g.setToolTip(c,d);this.add(c)},createControlSegment:function(c){var b=org.eclipse.swt.WidgetManager.getInstance();var a=b.findWidgetById(c);if(a!=null){this.add(a)}},setHyperlinkSettings:function(c,b,a){this._hyperlinkMode=c;if(b!=null){this._hyperlinkForeground=b}if(a!=null){this._hyperlinkActiveForeground=a}this.updateHyperlinks()},updateHyperlinks:function(){for(var a=0;a<this._hyperlinks.length;a++){this._hyperlinks[a].setTextColor(this._hyperlinkForeground);if(this._hyperlinkMode==org.eclipse.ui.forms.widgets.FormText.UNDERLINE_ALWAYS){this._hyperlinks[a].setStyleProperty("textDecoration","underline")}}},clearContent:function(a){var e=org.eclipse.swt.WidgetManager.getInstance();var c=this.getChildren();for(var b=0;b<this._hyperlinks.length;b++){this._hyperlinks[b].removeEventListener("mousemove",this._onMouseMove,this);this._hyperlinks[b].removeEventListener("mouseout",this._onMouseOut,this)}if(!a){this._hyperlinks=new Array();this.removeAll()}for(var b=0;b<c.length;b++){var d=e.findIdByWidget(c[b]);if(d==null){c[b].dispose()}}},_onMouseMove:function(a){var b=a.getTarget();if(!this.hasState("hover")){this.addState("hover");b.setTextColor(this._hyperlinkActiveForeground);if(this._hyperlinkMode==org.eclipse.ui.forms.widgets.FormText.UNDERLINE_HOVER){b.setStyleProperty("textDecoration","underline")}}},_onMouseOut:function(a){var b=a.getTarget();if(this.hasState("hover")){this.removeState("hover");b.setTextColor(this._hyperlinkForeground);if(this._hyperlinkMode==org.eclipse.ui.forms.widgets.FormText.UNDERLINE_HOVER){b.setStyleProperty("textDecoration","none")}}}}});