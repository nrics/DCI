qx.Class.define("org.eclipse.ui.forms.widgets.ToggleHyperlink",{extend:qx.ui.basic.Image,construct:function(){arguments.callee.base.call(this);this.setCursor(qx.constant.Style.CURSOR_HAND);this._hover=false;this._expanded=false;this._collapseNormal=null;this._collapseHover=null;this._expandHover=null;this._expandNormal=null;this.addEventListener("mousemove",this._onMouseMove,this);this.addEventListener("mouseout",this._onMouseOut,this)},destruct:function(){this.removeEventListener("mousemove",this._onMouseMove,this);this.removeEventListener("mouseout",this._onMouseOut,this)},members:{setImages:function(c,b,d,a){this._collapseNormal=c;this._collapseHover=b!=null?b:c;this._expandNormal=d;this._expandHover=a!=null?a:d;this._updateImage()},setExpanded:function(a){this._expanded=a;this._updateImage()},setHasSelectionListener:function(a){if(a){this.addEventListener("click",org.eclipse.swt.EventUtil.widgetDefaultSelected,this)}else{this.removeEventListener("click",org.eclipse.swt.EventUtil.widgetDefaultSelected,this)}},_onMouseMove:function(a){this._hover=true;this._updateImage()},_onMouseOut:function(a){this._hover=false;this._updateImage()},_updateImage:function(){var a;if(this._expanded){a=this._hover?this._collapseHover:this._collapseNormal}else{a=this._hover?this._expandHover:this._expandNormal}this.setSource(a)}}});
org.eclipse.rwt.protocol.AdapterRegistry.add("forms.widgets.ToggleHyperlink",{factory:function(b){var a=new org.eclipse.ui.forms.widgets.ToggleHyperlink();a.setUserData("isControl",true);org.eclipse.rwt.protocol.AdapterUtil.setParent(a,b.parent);return a},destructor:org.eclipse.rwt.protocol.AdapterUtil.getControlDestructor(),properties:org.eclipse.rwt.protocol.AdapterUtil.extendControlProperties(["images","expanded"]),propertyHandler:org.eclipse.rwt.protocol.AdapterUtil.extendControlPropertyHandler({images:function(e,d){var c=d[0]===null?null:d[0][0];var b=d[1]===null?null:d[1][0];var f=d[2]===null?null:d[2][0];var a=d[3]===null?null:d[3][0];e.setImages(c,b,f,a)}}),listeners:org.eclipse.rwt.protocol.AdapterUtil.extendControlListeners(["selection"]),listenerHandler:org.eclipse.rwt.protocol.AdapterUtil.extendControlListenerHandler({}),methods:[]});
qx.Class.define("org.eclipse.ui.forms.widgets.Hyperlink",{extend:qx.ui.basic.Atom,construct:function(b){arguments.callee.base.call(this);this.setAppearance("hyperlink");this.setLabel("(empty)");var a=this.getLabelObject();a.setAppearance("hyperlink-label");a.setMode(qx.constant.Style.LABEL_MODE_HTML);a.setWrap(qx.lang.String.contains(b,"wrap"));this.setLabel("");this._text="";this._underlined=false;this._savedBackgroundColor=null;this._savedTextColor=null;this._activeBackgroundColor=null;this._activeTextColor=null;this._underlineMode=null;this._hover=false;this.addEventListener("mousemove",this._onMouseMove,this);this.addEventListener("mouseout",this._onMouseOut,this)},destruct:function(){this.removeEventListener("mousemove",this._onMouseMove,this);this.removeEventListener("mouseout",this._onMouseOut,this)},statics:{UNDERLINE_NEVER:1,UNDERLINE_HOVER:2,UNDERLINE_ALWAYS:3},members:{setText:function(a){this._text=a;this._updateText()},setUnderlined:function(a){this._underlined=a;this._updateText()},_updateText:function(){var a=this._underlined?"<u>"+this._text+"</u>":this._text;this.setLabel(a)},setActiveBackgroundColor:function(a){this._activeBackgroundColor=a},setActiveTextColor:function(a){this._activeTextColor=a},setUnderlineMode:function(a){this._underlineMode=a},setHasSelectionListener:function(a){if(a){this.addEventListener("click",org.eclipse.swt.EventUtil.widgetDefaultSelected,this)}else{this.removeEventListener("click",org.eclipse.swt.EventUtil.widgetDefaultSelected,this)}},_onMouseMove:function(a){if(!this._hover){this._savedBackgroundColor=this.getBackgroundColor();if(this._activeBackgroundColor!=null){this.setBackgroundColor(this._activeBackgroundColor)}this._savedTextColor=this.getTextColor();if(this._activeTextColor!=null){this.setTextColor(this._activeTextColor)}var b=org.eclipse.ui.forms.widgets.Hyperlink.UNDERLINE_HOVER;if(this._underlineMode==b){this.setStyleProperty("textDecoration","underline")}this._hover=true}},_onMouseOut:function(a){if(this._hover){this._hover=false;this.setBackgroundColor(this._savedBackgroundColor);this.setTextColor(this._savedTextColor);var b=org.eclipse.ui.forms.widgets.Hyperlink.UNDERLINE_HOVER;if(this._underlineMode==b){this.setStyleProperty("textDecoration","none")}}}}});
org.eclipse.rwt.protocol.AdapterRegistry.add("forms.widgets.Hyperlink",{factory:function(b){var c=b.style.indexOf("WRAP")!==-1?"wrap":"";var a=new org.eclipse.ui.forms.widgets.Hyperlink(c);org.eclipse.rwt.protocol.AdapterUtil.addStatesForStyles(a,b.style);a.setUserData("isControl",true);org.eclipse.rwt.protocol.AdapterUtil.setParent(a,b.parent);return a},destructor:org.eclipse.rwt.protocol.AdapterUtil.getControlDestructor(),properties:org.eclipse.rwt.protocol.AdapterUtil.extendControlProperties(["text","image","underlined","underlineMode","activeForeground","activeBackground"]),propertyHandler:org.eclipse.rwt.protocol.AdapterUtil.extendControlPropertyHandler({text:function(c,b){var a=org.eclipse.rwt.protocol.EncodingUtil;var d=a.escapeText(b,false);c.setText(d)},image:function(b,a){if(a===null){b.setIcon(null)}else{b.setIcon(a[0])}},activeForeground:function(b,a){if(a===null){b.setActiveTextColor(null)}else{b.setActiveTextColor(qx.util.ColorUtil.rgbToRgbString(a))}},activeBackground:function(b,a){if(a===null){b.setActiveBackgroundColor(null)}else{b.setActiveBackgroundColor(qx.util.ColorUtil.rgbToRgbString(a))}}}),listeners:org.eclipse.rwt.protocol.AdapterUtil.extendControlListeners(["selection"]),listenerHandler:org.eclipse.rwt.protocol.AdapterUtil.extendControlListenerHandler({}),methods:[]});
qx.Class.define("org.eclipse.ui.forms.widgets.FormText",{extend:qx.ui.layout.CanvasLayout,construct:function(){arguments.callee.base.call(this);this.setAppearance("formtext");this._hyperlinks=new Array();this._hyperlinkMode=org.eclipse.ui.forms.widgets.FormText.UNDERLINE_ALWAYS;this._hyperlinkForeground="#0000FF";this._hyperlinkActiveForeground="#0000FF";this._hyperlinkBackground=null;this._hyperlinkActiveBackground=null},destruct:function(){this.clearContent(true)},statics:{UNDERLINE_NEVER:1,UNDERLINE_HOVER:2,UNDERLINE_ALWAYS:3},members:{createBullet:function(e,f,g,b,h,d,a){var c=new qx.ui.basic.Atom();c.setAppearance("formtext-bullet");switch(e){case 2:c.setLabel(g);break;case 3:c.setIcon(f);break;default:c.setIcon(f)}c.set({top:h,left:b,width:d,height:a});this.add(c)},createTextFragment:function(j,i,h,c,k,a,l,g,e,d){var b=new qx.ui.basic.Label();b.setAppearance("formtext-text");b.set({text:j,top:h,left:i,width:c,height:k});if(a!=null&&l!=null&&g!=null&&e!=null){var f=org.eclipse.swt.WidgetManager.getInstance();f.setFont(b,a,l,g,e)}if(d!=null){b.setTextColor(d)}this.add(b)},createImageSegment:function(d,b,f,c,a){var e=new qx.ui.basic.Image();e.setAppearance("formtext-image");e.set({source:d,top:f,left:b,width:c,height:a});this.add(e)},createTextHyperlinkSegment:function(i,a,h,g,c,j,b,l,f,d){var k=new qx.ui.basic.Label();k.setAppearance("formtext-hyperlink");k.set({text:i,top:g,left:h,width:c,height:j});var e=org.eclipse.swt.WidgetManager.getInstance();e.setToolTip(k,a);if(b!=null&&l!=null&&f!=null&&d!=null){e.setFont(k,b,l,f,d)}k.addEventListener("mousemove",this._onMouseMove,this);k.addEventListener("mouseout",this._onMouseOut,this);this._hyperlinks[this._hyperlinks.length]=k;this.add(k)},createImageHyperlinkSegment:function(f,d,b,h,e,a){var c=new qx.ui.basic.Image();c.setAppearance("formtext-hyperlink");c.set({source:f,top:h,left:b,width:e,height:a,paddingTop:2});var g=org.eclipse.swt.WidgetManager.getInstance();g.setToolTip(c,d);this.add(c)},createControlSegment:function(c){var b=org.eclipse.swt.WidgetManager.getInstance();var a=b.findWidgetById(c);if(a!=null){this.add(a)}},setHyperlinkSettings:function(c,b,a){this._hyperlinkMode=c;if(b!=null){this._hyperlinkForeground=b}if(a!=null){this._hyperlinkActiveForeground=a}this.updateHyperlinks()},updateHyperlinks:function(){for(var a=0;a<this._hyperlinks.length;a++){this._hyperlinks[a].setTextColor(this._hyperlinkForeground);if(this._hyperlinkMode==org.eclipse.ui.forms.widgets.FormText.UNDERLINE_ALWAYS){this._hyperlinks[a].setStyleProperty("textDecoration","underline")}}},clearContent:function(a){var e=org.eclipse.swt.WidgetManager.getInstance();var c=this.getChildren();for(var b=0;b<this._hyperlinks.length;b++){this._hyperlinks[b].removeEventListener("mousemove",this._onMouseMove,this);this._hyperlinks[b].removeEventListener("mouseout",this._onMouseOut,this)}if(!a){this._hyperlinks=new Array();this.removeAll()}for(var b=0;b<c.length;b++){var d=e.findIdByWidget(c[b]);if(d==null){c[b].dispose()}}},_onMouseMove:function(a){var b=a.getTarget();if(!this.hasState("hover")){this.addState("hover");b.setTextColor(this._hyperlinkActiveForeground);if(this._hyperlinkMode==org.eclipse.ui.forms.widgets.FormText.UNDERLINE_HOVER){b.setStyleProperty("textDecoration","underline")}}},_onMouseOut:function(a){var b=a.getTarget();if(this.hasState("hover")){this.removeState("hover");b.setTextColor(this._hyperlinkForeground);if(this._hyperlinkMode==org.eclipse.ui.forms.widgets.FormText.UNDERLINE_HOVER){b.setStyleProperty("textDecoration","none")}}}}});
